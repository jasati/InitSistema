

<md-card layout="column" flex>
    <md-toolbar class="md-table-toolbar md-default" >
      <md-divider></md-divider>
      <div class="md-toolbar-tools">
        <md-button class="md-accent md-fab" ng-class="{'md-mini':$ctrl.funcoes.mediaxs()}" ng-click="$ctrl.funcoes.novo()">
          <md-icon>add</md-icon>
          <md-tooltip>Novo Usuário</md-tooltip>
        </md-button>  
        <div flex></div>
        <button class="md-icon-button md-button md-ink-ripple" type="button" ng-click="$ctrl.funcoes.filtros.onClick()" aria-label="Filtro">
          <md-icon ng-hide="$ctrl.funcoes.filtros.digitando">search</md-icon>
          <md-progress-circular ng-show="$ctrl.funcoes.filtros.digitando" class="md-hue-2" md-diameter="20"></md-progress-circular>
        </button>
        <form class="animacao" flex="{{$ctrl.funcoes.filtros.flex}}" layout="row">
            <md-tooltip>Esse filtro lista todos os registros de usuários que CONTÉM a expressão digitada. Para uma busca mais especifica, click em filtro Avançado</md-tooltip>
            <input id="filtro" ng-model="$ctrl.funcoes.filtros.query"  ng-change="$ctrl.funcoes.filtros.onChange()" placeholder="Localizar usuário">
        </form>
        <button class="md-icon-button md-button animacao" type="button" ng-show="$ctrl.funcoes.filtros.showField" ng-click="$ctrl.funcoes.filtros.onClick()" aria-label="close">
          <md-tooltip>Remover filtro</md-tooltip>
          <md-icon>close</md-icon>
        </button>        
        <button class="md-icon-button md-button md-ink-ripple" type="button" ng-click="$ctrl.funcoes.filtros.filtroAvancado()" aria-label="Filtro">
          <md-tooltip>filtro Avançado</md-tooltip>
          <md-icon>filter_list</md-icon>
        </button>    
      </div>
    </md-toolbar>
    <md-card-actions ng-show="$ctrl.funcoes.filtros.fildsQuery.length > 0">
      <md-divider></md-divider>
      <div layout="row" layout-align="start center">
        <span>Filtros : </span>

        <md-chips ng-model="$ctrl.funcoes.filtros.fildsQuery" readonly="true" md-removable="true" md-on-remove="$ctrl.funcoes.read()">
          <md-chip-template>
            <span>{{$chip.campo}}:{{$chip.campo=='status'?($chip.value=='1'?'Ativo':'Inativo'):$chip.value}}</span>
          </md-chip-template>
        </md-chips>

      </div>

    </md-card-actions>

    <md-table-container>
      <md-divider></md-divider>
      <table md-table>
        <thead md-head md-order="myOrder">
          <tr md-row>
            <th md-column md-order-by="nome"><span><b>Nome</b></span></th>
            <th md-column md-order-by="email"><span><b>Email</b></span></th>
            <th md-column><span><b>Status</b></span></th>
          </tr>
        </thead>
        <tbody md-body>
          <tr class="striped" md-row md-select="u" md-select-id="id_usuario" md-auto-select ng-click="$ctrl.funcoes.alterar(u)" ng-repeat="u in $ctrl.funcoes.usuarios | orderBy: myOrder">
            <td md-cell>{{u.nome}}</td>
            <td md-cell>{{u.email}}</td>
            <td md-cell>{{u.status==1?'Ativo':'Inativo'}}</td>
          </tr>
        </tbody>
      </table>
    </md-table-container>
    <md-card-actions >
      <md-table-pagination md-limit="$ctrl.funcoes.pagination.limit" md-limit-options="$ctrl.funcoes.pagination.limitOptions" md-page="$ctrl.funcoes.pagination.pagina" md-total="{{$ctrl.funcoes.pagination.total}}"  md-on-paginate="$ctrl.funcoes.read" md-page-select md-label="{{$ctrl.funcoes.pagination.label}}"></md-table-pagination>
    </md-card-actions>
</md-card>

