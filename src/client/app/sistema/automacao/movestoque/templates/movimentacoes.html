<md-content>
	<md-card>
		<div layout="column" flex>
	      <md-toolbar class="md-table-toolbar md-default" >
	        <div class="md-toolbar-tools">
	          <md-button class="md-accent md-fab" ng-class="{'md-mini':$ctrl.movs.data.mediaxs()}" ng-click="$ctrl.movs.novo()">
	            <md-icon>add</md-icon>
	            <md-tooltip md-autohide="true">Nova {{$ctrl.movs.tipoMov.data.row.descricao}}</md-tooltip>
	          </md-button>
	          <span class="md-title" ng-class="{'md-subhead':$ctrl.movs.data.mediaxs()}" ng-show="!$ctrl.movs.data.filtros.showField">{{$ctrl.movs.data.title}} {{$ctrl.movs.tipoMov.data.row.descricao}}</span>
	          <div flex></div>
	          <button class="md-icon-button md-button md-ink-ripple" type="button" ng-click="$ctrl.movs.data.filtros.onClick()" aria-label="Filtro">
	            <md-icon ng-hide="$ctrl.movs.data.filtros.digitando">search</md-icon>
	            <md-progress-circular ng-show="$ctrl.movs.data.filtros.digitando" class="md-hue-2" md-diameter="20"></md-progress-circular>
	          </button>
	          <form class="animacao" autocomplete="off" novalidate flex="{{$ctrl.movs.data.filtros.flex}}" layout="row">
	              <md-tooltip>Esse filtro lista todos os registros que CONTÉM a expressão digitada. Para uma busca mais especifica, click em filtro Avançado</md-tooltip>
	              <input id="filtro" ng-model="$ctrl.movs.data.filtros.mainField"  ng-change="$ctrl.movs.data.filtros.onChange()" placeholder="{{$ctrl.movs.data.filtros.placeholder}}">
	          </form>
	          <button class="md-icon-button md-button animacao" type="button" ng-show="$ctrl.movs.data.filtros.showField" ng-click="$ctrl.movs.data.filtros.onClick()" aria-label="close">
	            <md-tooltip>Remover filtro</md-tooltip>
	            <md-icon>close</md-icon>
	          </button>
	          <button class="md-icon-button md-button md-ink-ripple" type="button" ng-click="$ctrl.movs.data.filtros.setConfigFiltro()" aria-label="Filtro">
	            <md-tooltip>filtro Avançado</md-tooltip>
	            <md-icon>filter_list</md-icon>
	          </button>
	          <button class="md-icon-button md-button" type="button" ng-click="$ctrl.movs.report()" aria-label="print">
	            <md-tooltip>Imprimir</md-tooltip>
	            <md-icon>print</md-icon>
	          </button>
	        </div>
	      </md-toolbar>


			<!-- <j-toolbar funcoes="$ctrl.movs.data.funcToolbar"></j-toolbar> -->
			<filtro	filtros="$ctrl.movs.data.filtros"></filtro>
			<div ng-if="$ctrl.movs.data.rows.length === 0" layout-padding layout-margin layout-align=" center center" layout="row" class="alert" ng-class="{'alert-warning':!$ctrl.movs.data.reading,'alert-info':$ctrl.movs.data.reading}" role="alert">
				<div ng-if="$ctrl.movs.data.reading" >
				  <md-progress-circular ng-disabled="!$ctrl.movs.data.reading" class="md-hue-2" md-diameter="20px"></md-progress-circular>
				  <p>Buscando Registros...</p>
				</div>
				<div ng-if="!$ctrl.movs.data.reading" align="center">
				  <p><b>Descupe!</b> Os registros não foram encontrados, talvez você ainda não tenha cadastrado ou atualize para recarregar.</p>
				  <md-button class="md-icon-button" ng-click="$ctrl.movs.data.filtros.functionRead()" aria-label="edit"><md-icon aria-label="editar">refresh</md-icon><md-tooltip md-autohide="true">Recarrgar registros</md-tooltip></md-button>
				</div>
			</div>			
			<div layout-gt-xs="row" flex>
				<div layout="column" flex="grow">
					<j-pagination funcoes="$ctrl.movs.data.funcPag"></j-pagination>
					<div ng-switch on="$ctrl.movs.tipoMov.data.row.tipo">
						<div ng-switch-when="E">
							<md-table-container ng-show="$ctrl.movs.data.rows.length > 0">
							   <table md-table class="table table-condensed table-striped">
							    <thead md-head md-order="$ctrl.movs.data.orderBy">
							      <tr >
							      	<th style="width: 10% !important" md-column md-order-by="n_nf">
							        Nº Nota</th>
							        <th style="width: 15% !important" md-column md-order-by="data_emissao">
							        Data</th>
							        <th style="width: 30% !important" md-column md-order-by="p_emi_nome_comp">Emissor</th>
							        <th style="width: 20% !important" md-column md-order-by="p_emi_cpf_cnpj">CNPJ</th>
							        <th style="width: 5% !important" md-column md-order-by="desc_status">Situação</th>
							        <th style="width: 10% !important" md-column md-order-by="total">Total</th>
							      </tr>
							    </thead>
							   <tbody md-body>
							      <tr  class="row-table-click striped" md-select="row" md-select-id="id_mov" ng-repeat="row in $ctrl.movs.data.rows | orderBy: $ctrl.movs.data.orderBy" ng-click="$ctrl.movs.alterar(row)">
							      	<td md-cell>{{row.n_nf}}</td>
							        <td md-cell>{{row.data_mov | date:"dd/MM/yyyy HH:mm:ss"}}</td>
							        <td md-cell>{{row.p_emi_nome_comp}}</td>
							        <td md-cell>{{row.p_emi_cpf_cnpj}}</td>
							        <td md-cell>{{row.desc_status}}</td>
							        <td md-cell md-number><b>{{row.total | currency}}</b></td>
							      </tr>
							    </tbody>
							  </table> 
							</md-table-container>
						</div>
						<div ng-switch-when="S">
							<md-table-container ng-show="$ctrl.movs.data.rows.length > 0">
							   <table md-table class="table table-condensed table-striped">
							    <thead md-head md-order="$ctrl.movs.data.orderBy">
							      <tr >
							      	<th style="width: 10% !important" md-column md-order-by="n_nf">
							        Numero</th>
							        <th style="width: 15% !important" md-column md-order-by="data_mov">
							        Data</th>
							        <th style="width: 30% !important" md-column md-order-by="p_dest_nome_comp">Cliente</th>
							        <th style="width: 20% !important" md-column md-order-by="p_dest_nome_red">Apelido</th>
							        <th style="width: 15% !important" md-column md-order-by="vendedor_nome_red">
							        Vendedor</th>
							        <th style="width: 5% !important" md-column md-order-by="desc_status">Situação</th>
							        <th style="width: 10% !important" md-column md-order-by="total">Total</th>
							      </tr>
							    </thead>
							   <tbody md-body>
							      <tr  class="row-table-click striped" md-select="row" md-select-id="id_mov" ng-repeat="row in $ctrl.movs.data.rows | orderBy: $ctrl.movs.data.orderBy" ng-click="$ctrl.movs.alterar(row)">
							      	<td md-cell>{{row.n_nf}}</td>
							        <td md-cell>{{$ctrl.movs.data.convDT(row.data_mov) | date:'dd/MM/yyyy HH:mm:ss'}}</td>
							        <td md-cell>{{row.p_dest_nome_comp}}</td>
							        <td md-cell>{{row.p_dest_nome_red}}</td>
							        <td md-cell>{{row.vendedor_nome_red}}</td>
							        <td md-cell>{{row.desc_status}}</td>
							        <td md-cell md-number><b>{{row.total | currency}}</b></td>
							      </tr>
							    </tbody>
							  </table>
							</md-table-container>
						</div>
						  <div layout="row" layout-padding layout-align="end center">
						  	<span class="md-title">Total da Listado : </span>
						  	<span class="md-title text-danger">
						  	 {{$ctrl.movs.soma($ctrl.movs.data.rows,'','total')|currency}}</span>
						  </div>						
					</div>
				</div>
			</div>
		</div>
	</md-card>
</md-content>